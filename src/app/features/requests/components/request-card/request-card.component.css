<div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition">
  <!-- Header -->
  <div class="flex justify-between items-start mb-4">
    <div class="flex-1">
      <h3 class="text-xl font-semibold text-gray-900">
        {{ request.skill?.title }}
      </h3>
      <p class="text-sm text-gray-600 mt-1">
        {{ viewAs === 'sent' ? 'À' : 'De' }}: 
        {{ otherUser?.firstName }} {{ otherUser?.lastName }}
      </p>
    </div>
    
    <span [class]="request.status | statusColor" class="px-3 py-1 rounded-full text-sm font-medium">
      {{ request.status }}
    </span>
  </div>

  <!-- Message -->
  <div class="mb-4">
    <p class="text-gray-700">{{ request.message }}</p>
  </div>

  <!-- Skill info -->
  <div class="text-sm text-gray-600 mb-4">
    <span class="inline-block bg-gray-100 px-2 py-1 rounded">
      {{ request.skill?.category }}
    </span>
    <span class="ml-2">{{ request.skill?.type }}</span>
  </div>

  <!-- Date -->
  <p class="text-xs text-gray-500 mb-4">
    Créée le {{ request.createdAt | date:'dd/MM/yyyy à HH:mm' }}
  </p>

  <!-- Actions -->
  <div class="flex gap-2 flex-wrap">
    @if (canAccept) {
      <button 
        (click)="acceptRequest()"
        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
        Accepter
      </button>
    }
    
    @if (canReject) {
      <button 
        (click)="rejectRequest()"
        class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
        Rejeter
      </button>
    }
    
    @if (canComplete) {
      <button 
        (click)="completeRequest()"
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
        Marquer comme complété
      </button>
    }
    
    @if (canCancel) {
      <button 
        (click)="cancelRequest()"
        class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
        Annuler
      </button>
    }
    
    <a 
      [routerLink]="['/requests', request.id]"
      class="px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50">
      Voir détails
    </a>
  </div>
</div>